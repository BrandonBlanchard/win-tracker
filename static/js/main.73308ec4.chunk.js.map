{"version":3,"sources":["classes/fetch-data.js","components/welcome-mat/welcome-mat.js","actions/index.js","components/chart-widget/chart-card.jsx","components/pie-chart/pie-chart.jsx","components/mini-leaderboard/mini-leaderboard.jsx","components/section-meta/section-meta.jsx","components/tab-container/tab-container.js","components/games-list/games-list.jsx","components/player-thumb/player-thumb.js","components/players-list/players-list.jsx","components/enter-game/enter-game.js","App.js","serviceWorker.js","reducers/data-load.js","reducers/index.js","index.js"],"names":["formatData","data","dataReadyCB","lines","split","colNames","shift","map","ln","reduce","acc","val","index","toLowerCase","WelcomeMat","react_default","a","createElement","className","ACTION_TYPE","Object","freeze","DATA_LOAD","chart_widget_chart_card","props","chartName","children","PieChart","style","width","height","react_plotly_default","assign","configuration","displayModBar","layout","objectSpread","paper_bgcolor","plot_bgcolor","grid","rows","columns","showlegend","byWins","b","aWins","wins","bWins","onWins","player","numberStringMap","2","3","4","5","6","MiniLeaderboard","_extractPlayers","players","sortedPlayers","filter","sort","leader","rabble","slice","length","extractPlayers","leaderStats","label","stat","games","toFixed","faction","set","key","concat","_ref","i","font","color","family","section_meta_section_meta","_props$data","factions","_useState","useState","_useState2","slicedToArray","factionChart","setFactionChart","_useState3","_useState4","playerChart","setPlayerChart","useEffect","factionEntries","trimmedFactions","item","type","labels","entry","values","domain","column","hole","textinfo","computeFactionChart","playerEntries","trimmerPlayers","computePlayerChart","pie_chart_pie_chart","mini_leaderboard_MiniLeaderboard","TabContainer","tabIndex","setTabIndex","tabNames","name","thisIndex","onClick","tabMapper","tabContent","tabContentRenderer","playerRenderer","caster","controlPoints","theme","win","gameRenderer","game","player1","player2","winCondition","GamesList","defaultProps","PlayerThumb","_props$player","PlayersList","player_thumb_PlayerThumb","EnterGame","isActive","setIsActive","src","LOAD_STATE","INIT","LOADING","READY","App","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","readiness","url","_this2","rawData","dispatch","payload","dataLoad","fetch","then","text","catch","e","console","error","setState","_this$props$data","tab_container_TabContainer","games_list_GamesList","players_list_PlayersList","log","enter_game_EnterGame","welcome_mat_WelcomeMat","renderOnReady","Component","applicationEntry","connect","Boolean","window","location","hostname","match","playerReducer","playerDidWin","has","parseInt","opponent","playerFilter","playerSorter","playerA","playerB","factionReducer","factionDidWin","gamesMapper","dataLoadReducer","prevState","action","reverse","toConsumableArray","initialState","rootReducer","arguments","undefined","store","createStore","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.73308ec4.chunk.js","sourcesContent":["\r\nconst fetchData = (url, dataReadyCB) => {\r\n     return fetch(url).then(data => {\r\n        data.text().then(data => formatData(data, dataReadyCB));\r\n     }).catch(e => console.error('data fetch failed')) };\r\n\r\nconst formatData = (data, dataReadyCB) => {\r\n   const lines = data.split('\\n');\r\n\r\n   // Take first row and split it into colmnNames\r\n   const colNames = lines.shift().split(',');\r\n   // Map line values to column names \r\n   dataReadyCB(lines.map(ln => \r\n      ln.split(',').reduce((acc, val, index) => {\r\n         acc[colNames[index].toLowerCase()] = val;\r\n         return acc;\r\n      }, {})\r\n   ));\r\n\r\n}\r\n\r\n\r\nexport { fetchData }","import React from 'react';\r\nimport './index.css';\r\n\r\nexport const WelcomeMat = () => {\r\n\r\n    return (\r\n        <div className=\"welcome-mat\">\r\n            <h1 className=\"welcome-mat__header-1\">Turn  <br/> Two </h1>\r\n            <h1 className=\"welcome-mat__header-2\">Smoke <br/> Break</h1>\r\n        </div>\r\n    );\r\n}\r\n","// Action Types\r\nconst ACTION_TYPE = Object.freeze({\r\n    DATA_LOAD: 'DATA_LOAD'\r\n});\r\n\r\n// Actions\r\nconst dataLoad = (rawData) => {\r\n    return { type: ACTION_TYPE.DATA_LOAD, payload: rawData }\r\n}\r\n\r\nexport {ACTION_TYPE, dataLoad}","import React from 'react';\r\nimport './chart-card.css';\r\n\r\nexport default function (props) {\r\n    return (\r\n        <div className=\"chart-card\">\r\n            <div className=\"chart-card__content\">\r\n                <h3 className=\"chart-card__name\">{props.chartName}</h3>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport './pie-chart.css';\r\n\r\nconst PieChart = (props) => (\r\n    <div className=\"pie-chart\" style={{width: props.width, height: props.height }}>\r\n        <Plot {...props} \r\n        configuration={{displayModBar: false }}\r\n        layout={{ ...props.layout, paper_bgcolor: 'rgba(0,0,0,0)', plot_bgcolor: 'rgba(0,0,0,0)', width: props.width, height: props.height, grid: { rows: 0, columns: 0}, showlegend: false }}></Plot>\r\n    </div>\r\n);\r\n\r\nexport default PieChart;","import React from 'react';\r\nimport './mini-leaderboard.css';\r\n\r\n\r\nconst byWins = (a, b) => {\r\n    const aWins = a.wins;\r\n    const bWins = b.wins;\r\n\r\n    if(aWins > bWins) return -1;\r\n    if(aWins < bWins) return 1;\r\n    return 0;\r\n};\r\n\r\n\r\nconst onWins = (player) => player.wins > 2 && player.player !== 'Some rando' && player.player !== 'opponent'; \r\n\r\n\r\nconst extractPlayers = (players) => {\r\n    const sortedPlayers = players.filter(onWins)\r\n                                 .sort(byWins);\r\n\r\n    const leader = sortedPlayers[0];\r\n    const rabble = sortedPlayers.slice(1, sortedPlayers.length);\r\n    \r\n    return {leader, rabble};\r\n};\r\n\r\nconst numberStringMap = {\r\n    2: '2nd',\r\n    3: '3rd',\r\n    4: '4th',\r\n    5: '5th',\r\n    6: '6th'\r\n}\r\n\r\nexport const MiniLeaderboard = (props) => {\r\n    const {leader, rabble} = extractPlayers(props.players); \r\n    const leaderStats = [\r\n        { label: 'Wins', stat: leader.wins },\r\n        { label: 'W/L Ratio', stat: (leader.wins/leader.games).toFixed(2)},\r\n        { label: 'Games', stat: leader.games}\r\n    ];\r\n\r\n    return (\r\n        <ul className='mini-leaderboard'>\r\n            <li className='mini-leaderboard__leader'>\r\n                <i className='fa fa-crown mini-leaderboard__leader-crown'></i>\r\n                <p className='mini-leaderboard__leader-name'>{ leader.player }</p>\r\n                <p className='mini-leaderboard__leader-faction'>{ leader.faction }</p>\r\n                <div className='mini-leaderboard__leader-stats'>\r\n                    {\r\n                        leaderStats.map((set, index) => (\r\n                            <div className='mini-leaderboard__leader-stat' key={`stats-${index}`}>\r\n                                <p className='leader-stat__label'>{set.label}</p>\r\n                                <p className='leader-stat__value'>{set.stat}</p>\r\n                            </div>\r\n                        ))\r\n      \r\n                    }\r\n                    \r\n                  \r\n                </div>\r\n            </li>\r\n            {\r\n                rabble.map( ({ player, faction, wins, games}, i) => (\r\n                    <li className='mini-leaderboard__player' key={`player-${i}`}>\r\n                        <div className='mini-leaderboard__player-dot'> { player } </div>\r\n                        <div className='mini-leaderboard__player-faction'>{ faction }</div>\r\n                        <div className=\"mini-leaderboard__player-wins\">{numberStringMap[i + 2]}</div>\r\n                    </li>\r\n                ))\r\n            }\r\n        </ul>\r\n    )   ;\r\n};\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { ChartCard } from '../chart-widget';\r\nimport { PieChart } from './../pie-chart';\r\nimport { MiniLeaderboard } from './../mini-leaderboard';\r\nimport './index.css';\r\n\r\nconst layout = {\r\n  font: {\r\n    color: '#728041',\r\n    family: 'sans serif'\r\n  }\r\n};\r\n\r\n// Faction Games\r\nconst computeFactionChart = (factionEntries, setFactionChart) => {\r\n    const trimmedFactions = factionEntries.filter( item => (item.wins > 2));\r\n\r\n    const factionNames = trimmedFactions.map(entry => entry.faction);\r\n    const factionWins = trimmedFactions.map(entry => entry.games);\r\n\r\n    setFactionChart([{\r\n      type: 'pie',\r\n      labels: factionNames,\r\n      values: factionWins,\r\n      domain: { column: 0 },\r\n      hole: .96,   \r\n      textinfo: 'label+value',\r\n    }]);\r\n};\r\n\r\n// Player wins\r\nconst computePlayerChart = (playerEntries, setPlayerChart) => {\r\n  // Filter out players with only 1 or 2 games and any randos\r\n  const trimmerPlayers = playerEntries.filter( player => (player.games > 2) && player.player !== 'Some rando');\r\n\r\n  const playerNames = trimmerPlayers.map(player => player.player);\r\n  const playerWins = trimmerPlayers.map(player => player.wins);\r\n\r\n  setPlayerChart([{\r\n    type: 'pie',\r\n    labels: playerNames,\r\n    values: playerWins,\r\n    domain: {column: 1},\r\n    hole: 0.96,\r\n    textinfo: 'label+value'\r\n  }])\r\n}\r\n\r\nexport default (props) => {\r\n  const { factions, players } = props.data;\r\n\r\n  const [factionChart, setFactionChart] = useState([]);\r\n  const [playerChart, setPlayerChart] = useState([]);\r\n  const chartSize = 330;\r\n\r\n  useEffect(() => computeFactionChart(factions, setFactionChart), [factions]);\r\n  useEffect(() => computePlayerChart(players, setPlayerChart), [players]);\r\n\r\n  return (\r\n    <div className='meta-stats'>\r\n      <ChartCard chartName=\"Faction Games\">\r\n        <PieChart data={factionChart} layout={layout} width={chartSize} height={chartSize} ></PieChart>\r\n      </ChartCard>\r\n\r\n      <MiniLeaderboard players={players}></MiniLeaderboard>\r\n\r\n      <ChartCard chartName=\"Player Wins\" >\r\n        <PieChart data={playerChart} layout={layout} width={chartSize} height={chartSize} ></PieChart>\r\n      </ChartCard>\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './tab-container.css';\r\n\r\nconst tabMapper = (name, thisIndex, tabIndex, setTabIndex) => (\r\n    <div className={ thisIndex === tabIndex ? 'tab-container__tab--active' : 'tab-container__tab' } \r\n         onClick={ () => setTabIndex(thisIndex)}\r\n         key={thisIndex}>\r\n    { name }</div>\r\n);\r\n\r\nconst tabContentRenderer = (tabIndex, tabContent) => tabContent[tabIndex];\r\n\r\nconst TabContainer = (props) => {\r\n    // Takes in children\r\n    const [ tabIndex, setTabIndex] = useState(0);\r\n    const { children, tabNames } = props;\r\n\r\n    return (\r\n        <div className='tab-container'>\r\n            <div className='tab-container__tab-bar'>\r\n                { tabNames.map((name, thisIndex) => tabMapper(name, thisIndex, tabIndex, setTabIndex)) }\r\n            </div>    \r\n\r\n            <div className='tab-container__tab-content'>\r\n                { tabContentRenderer(tabIndex, children) }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nTabContainer.propTypes = {\r\n    tabNames: PropTypes.arrayOf(PropTypes.string)\r\n}\r\n\r\nexport { TabContainer };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './games-list.css';\r\n\r\nconst playerRenderer = ({ caster, controlPoints, faction, name, theme, win }, index) => (\r\n    <tr className='games-list__player' key={`${name}-${name}-${index}-player`}>\r\n            <td className='games-list__stat games-list__player-name' key={0}>\r\n                <div className='games-list__win-loss'>\r\n                    <i className={ win ? 'fa fa-trophy' : 'fa fa-skull-crossbones'}></i>\r\n                </div>\r\n                {name}\r\n            </td>\r\n            <td  className='games-list__stat' key={1}> { faction } </td>\r\n            <td  className='games-list__stat' key={2}> { caster } </td>\r\n            <td  className='games-list__stat' key={3}> { theme } </td>\r\n            <td  className='games-list__stat--orange games-list__control-points' key={4}> { controlPoints || 0 } </td>\r\n    </tr>\r\n);\r\n\r\nconst gameRenderer = (game, index) => (\r\n    <div className=\"games-list__game\" key={`${game.player1.player}-${game.player2.player}-${index}`}>\r\n        <table className='games-list__game-data'>\r\n           <tbody>\r\n            {playerRenderer(game.player1, index)}\r\n            <tr key={`${game.player1.player}-${game.player2.player}-${index}-condition`}>\r\n                <td className='games-list__win-condition'>{ game.winCondition } </td>\r\n            </tr>\r\n            {playerRenderer(game.player2, index)}\r\n           </tbody>\r\n        </table>\r\n    </div>\r\n);\r\n\r\nconst GamesList = (props) => {\r\n    const { games } = props;\r\n\r\n    return (\r\n        <div className='games-list'>\r\n            <h2 className='games-list__header'> Games </h2>\r\n            <div className=\"games-list__games-list\">\r\n                {games.map(gameRenderer)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nGamesList.propTypes = {\r\n    games: PropTypes.array\r\n};\r\n\r\nGamesList.defaultProps = {\r\n    games: []\r\n}\r\n\r\nexport { GamesList };","import React from 'react';\r\nimport './player-thumb.css';\r\n\r\n\r\nconst PlayerThumb = (props) => {\r\n    const { player, faction, games, wins, controlPoints} = props.player;\r\n    \r\n    return (\r\n        <div className='player-thumb'>\r\n            <div className='player-thumb__content'>\r\n                <div className='player-thumb__name'>{ player }</div>\r\n                <div className='player-thumb__faction'>{ faction }</div>\r\n                <hr/>\r\n                <ul className='player-thumb__stats'>\r\n                    <li>\r\n                        <span className='player-thumb__label'>Wins</span>\r\n                        <span className='player-thumb__value'>{ wins }</span>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <span className='player-thumb__label'>W/L Ratio</span>\r\n                        <span className='player-thumb__value'>{ (wins/games).toFixed(2) }</span>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <span className='player-thumb__label'>Games</span>\r\n                        <span className='player-thumb__value'>{ games }</span>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <span className='player-thumb__label'> lifetime control</span>\r\n                        <span className='player-thumb__value'>{controlPoints}</span>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <span className='player-thumb__label'> control per game</span>\r\n                        <span className='player-thumb__value'>{ (controlPoints/games).toFixed(2) }</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n} \r\n\r\n\r\nexport { PlayerThumb };","import React from 'react';\r\nimport './players-list.css';\r\n\r\nimport { PlayerThumb } from './../player-thumb';\r\n\r\nconst PlayersList = (props) => {\r\n    const { players } = props;\r\n    return (\r\n        <div className='players-list'>\r\n            <h2 className='players-list__header'>Players</h2>\r\n            <div className='players-list__players'>\r\n                { players.map((player) => (<PlayerThumb key={ `${player.player}-${player.faction}-${player.wins}` } player={ player } />))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport { PlayersList }","import React, { useState } from 'react';\r\nimport './enter-game.css';\r\n\r\nconst EnterGame = (props) => {\r\n    const [isActive, setIsActive] = useState(false);\r\n\r\n    return (\r\n        <div className={ isActive ? 'enter-game enter-game--form' : 'enter-game enter-game--button'} \r\n             >\r\n            <div className='enter-game__open' onClick={ () => { setIsActive(true) } }>\r\n                <i className='fa fa-plus'></i>\r\n            </div>\r\n            <div className='enter-game__game-entry-content'>\r\n                { isActive && (<style>\r\n                    {`body {\r\n                        overflow: hidden;\r\n                    }`}\r\n                </style>)}\r\n                <iframe className='enter-game__game-entry'\r\n                        src=\"https://docs.google.com/forms/d/e/1FAIpQLSfv828TjuT2R2IdxJxNCCPrqcMqVgJvJZXS9PBbDQO2KU1sXg/viewform?embedded=true\"\r\n                        > Loading... </iframe>\r\n                <button className='enter-game__close' onClick={ () => { setIsActive(false); } }> close </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport { EnterGame }","import React, { Component} from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport './App.css';\n\nimport { fetchData } from './classes/fetch-data';\nimport 'react-pivottable/pivottable.css';\nimport { WelcomeMat } from './components/welcome-mat/welcome-mat';\nimport { dataLoad } from './actions/index';\nimport { SectionMeta } from './components/section-meta';\nimport { TabContainer } from './components/tab-container';\nimport { GamesList } from './components/games-list';\nimport { PlayersList } from './components/players-list';\nimport { EnterGame } from './components/enter-game';\n\nconst dataSource = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6B-jLNFVOaHlagYjsClKUDGquAkZpCymnDQ60n5wOw-0pf8gRImDXKciW7FzLZbK4rZutfQjPfVSM/pub?output=csv';\n\n\nconst LOAD_STATE = {\n  INIT: 0,\n  LOADING: 1,\n  READY: 2\n};\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      readiness: LOAD_STATE.INIT,\n    };\n  }\n\n\n  componentDidMount() {\n    if (this.state.readiness === LOAD_STATE.INIT) {\n\n      fetchData(dataSource, (rawData) => {\n        this.props.dispatch(dataLoad(rawData));\n\n      }).then(() => { \n        this.setState({ readiness: LOAD_STATE.READY });\n      });\n\n      this.setState({ readiness: LOAD_STATE.LOADING });\n    }\n  }\n\n\n  renderOnReady() {\n    const { games, players } = this.props.data;\n    const tabNames = ['Games', 'Players'];\n\n    return (\n      <div className='charts-container'>\n        <SectionMeta {...this.props} />\n        <TabContainer tabNames={tabNames}>\n            <GamesList games={games} />\n            <PlayersList players={players} />\n        </TabContainer>\n      </div>\n    );\n  }\n\n\n  render() {\n    console.log(this.props)\n    return (\n      <div className=\"app\">\n        <EnterGame/>\n        <WelcomeMat/>\n        {this.props.data.players.length > 0 && this.renderOnReady()}\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  data: PropTypes.objectOf(PropTypes.array)\n};\n\nApp.defaultProps = {\n  data: {\n    players: []\n  }\n}\n\nconst mapStateToProps = state => state;\n\n\nconst applicationEntry = connect(mapStateToProps)(App);\n\n\nexport default applicationEntry;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import has from 'lodash/has';\r\n\r\nconst OPPONENT_NAME = 'opponent';\r\nconst OPPONENT_CASTER = 'opponent caster';\r\nconst OPPONENT_FACTION = \"opponent faction\";\r\nconst OPPONENT_THEME = 'opponent theme';\r\nconst OPPONENT_CONTROL_POINTS = 'opponent control points';\r\nconst MY_CONTROL_POINTS = 'my control points';\r\nconst WIN_CONDITION = 'win condition';\r\n\r\nconst playerReducer = (acc, game) => {\r\n    const playerDidWin = game.win === \"TRUE\";\r\n    \r\n    // DRY ?\r\n    if(has(acc, game.player)) {\r\n        acc[game.player].games += 1;\r\n        acc[game.player].wins += playerDidWin ? 1 : 0;\r\n        acc[game.player].controlPoints += parseInt(game[MY_CONTROL_POINTS]) || 0;\r\n    } else {\r\n        acc[game.player] = {\r\n            games: 1,\r\n            wins: playerDidWin ? 1 : 0,\r\n            player: game.player,\r\n            faction: game.faction,\r\n            controlPoints: parseInt(game[MY_CONTROL_POINTS]) || 0\r\n        }\r\n    }\r\n\r\n    if(has(acc, game.opponent)) {\r\n        acc[game.opponent].games += 1;\r\n        acc[game.opponent].wins += !playerDidWin ? 1 : 0;\r\n        acc[game.opponent].controlPoints += parseInt(game[OPPONENT_CONTROL_POINTS]) || 0;\r\n    } else {\r\n        acc[game.opponent] = {\r\n            games: 1,\r\n            wins: !playerDidWin ? 1 : 0,\r\n            player: game.opponent,\r\n            faction: game[OPPONENT_FACTION],\r\n            controlPoints: parseInt(game[OPPONENT_CONTROL_POINTS]) || 0\r\n        }\r\n    }\r\n\r\n    return acc;\r\n}\r\n\r\nconst playerFilter = (player) => player.player !== 'opponent';\r\n\r\nconst playerSorter = (playerA, playerB) => {\r\n    if(playerA.games > playerB.games) { return -1; }\r\n    if(playerA.games < playerB.games) { return 1; }\r\n    return 0;\r\n};\r\n\r\nconst factionReducer = (acc, game) => {\r\n    const factionDidWin = game.win === \"TRUE\";\r\n\r\n    if(has(acc, game.faction)) {\r\n        acc[game.faction].wins += factionDidWin ? 1 : 0;\r\n        acc[game.faction].games += 1;\r\n    } else {\r\n        acc[game.faction] = {\r\n            faction: game.faction,\r\n            wins: factionDidWin ? 1 : 0,\r\n            games: 1\r\n        };\r\n    }\r\n\r\n    if(has(acc, game[OPPONENT_FACTION])) {\r\n        acc[game[OPPONENT_FACTION]].wins += !factionDidWin ? 1 : 0;\r\n        acc[game[OPPONENT_FACTION]].games += 1;\r\n    } else {\r\n        acc[game[OPPONENT_FACTION]] = {\r\n            faction: game[OPPONENT_FACTION],\r\n            wins: !factionDidWin ? 1 : 0,\r\n            games: 1\r\n        };\r\n    }\r\n\r\n    return acc;\r\n}\r\n\r\n\r\nconst gamesMapper = (game) => {\r\n    const player1 = {\r\n        name: game.player,\r\n        caster: game.caster,\r\n        faction: game.faction,\r\n        theme: game.theme,\r\n        controlPoints: game[MY_CONTROL_POINTS],\r\n        win: game.win === \"TRUE\",\r\n    };\r\n\r\n    const player2 = {\r\n        name: game[OPPONENT_NAME],\r\n        caster: game[OPPONENT_CASTER],\r\n        faction: game[OPPONENT_FACTION],\r\n        theme: game[OPPONENT_THEME],\r\n        controlPoints: game[OPPONENT_CONTROL_POINTS],\r\n        win: game.win === \"FALSE\"\r\n    };\r\n\r\n    return {\r\n        winCondition: game[WIN_CONDITION],\r\n        player1,\r\n        player2\r\n    };\r\n}\r\n\r\nconst dataLoadReducer = (prevState, action) => {\r\n    console.log('data load reducer', prevState, action);\r\n\r\n    // Csv is parsed from line 1 to n, this means that older games show first.\r\n    // Reversing the list corrects it to be newest first\r\n    const data = action.payload.reverse();\r\n\r\n    return {\r\n        players: [ ...Object.values(data.reduce(playerReducer, {})).filter(playerFilter).sort(playerSorter) ],\r\n        factions: [ ...Object.values(data.reduce(factionReducer, {})) ],\r\n        games: [ ...Object.values(data.map(gamesMapper)) ]\r\n    }\r\n};\r\n\r\n\r\nexport default dataLoadReducer;","import { ACTION_TYPE } from './../actions/index';\r\nimport dataLoadReducer from './data-load';\r\n\r\nconst initialState = {\r\n    data: {\r\n        // { player: 'brandon', wins: 20, games: 30, }\r\n        players:[],\r\n        // { faction: 'crucible guard', wins: 20, games: 30 }\r\n        factions: [],\r\n    }\r\n}\r\n\r\nconst rootReducer = (prevState = initialState, action) => {\r\n    console.log(action, ACTION_TYPE.DATA_LOAD)\r\n    return {\r\n        data: action.type === ACTION_TYPE.DATA_LOAD ? Object.assign({}, prevState.data, dataLoadReducer(prevState, action)) : Object.assign({}, prevState.data), \r\n    }\r\n};\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/index';\n\n// Data source\n// https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6B-jLNFVOaHlagYjsClKUDGquAkZpCymnDQ60n5wOw-0pf8gRImDXKciW7FzLZbK4rZutfQjPfVSM/pub?gid=0&single=true&output=csv\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}